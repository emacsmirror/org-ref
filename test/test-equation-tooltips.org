#+TITLE: Test Equation Image Tooltips
#+OPTIONS: toc:nil

* Test Cases for Equation Image Tooltips

This file tests the new equation image tooltip feature for org-ref.

** Setup

To test this feature:
1. Load org-ref with the new code
2. Enable the feature: =(setq org-ref-show-equation-images-in-tooltips t)=
3. Generate previews with =C-c C-x C-l= (org-latex-preview)
4. Hover over the equation references below

#+BEGIN_SRC emacs-lisp
(load-file "../org-ref-ref-links.el")
#+END_SRC

#+RESULTS:
: t

** Test 1: Simple Equation

Here is a simple equation:

\begin{equation}
\label{eq:simple}
E = mc^2
\end{equation}

Reference to the equation: eqref:eq:simple

** Test 2: Align Environment

Multiple equations in an align environment:

\begin{align}
\label{eq:maxwell1}
\nabla \cdot \mathbf{E} &= \frac{\rho}{\epsilon_0} \\
\label{eq:maxwell2}
\nabla \cdot \mathbf{B} &= 0
\end{align}

References: eqref:eq:maxwell1 and eqref:eq:maxwell2

** Test 3: Multiple References

Another equation:

\begin{equation}
\label{eq:pythagorean}
a^2 + b^2 = c^2
\end{equation}

Using different ref types:
- eqref: eqref:eq:pythagorean
- ref: ref:eq:pythagorean
- autoref: autoref:eq:pythagorean

** Test 4: Equation Without Preview

This equation won't have a preview initially:

\begin{equation}
\label{eq:noproview}
\int_{-\infty}^{\infty} e^{-x^2} dx = \sqrt{\pi}
\end{equation}

Reference: eqref:eq:noproview

When hovering, it should show the LaTeX text instead of an image.

** Test 5: Complex Equation

\begin{equation}
\label{eq:complex}
\frac{\partial^2 u}{\partial t^2} = c^2 \nabla^2 u
\end{equation}

Reference: eqref:eq:complex

** Expected Behavior

- When =org-ref-show-equation-images-in-tooltips= is =t=:
  - Hovering over eqref with preview → shows image in tooltip
  - Hovering over eqref without preview → shows LaTeX text
  - In terminal Emacs → always shows text

- When =org-ref-show-equation-images-in-tooltips= is =nil=:
  - Always shows LaTeX text (current behavior)
